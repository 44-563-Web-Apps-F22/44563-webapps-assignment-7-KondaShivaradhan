<!DOCTYPE html>
<html lang="en">

<head>
    <title>Treasure</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js" integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous"></script>
    <style>
        p {
            text-align: center;
            background-color: beige;
            padding: 5px;
            margin: 0;
        }
        
        img {
            height: 70px;
            width: 70px;
        }
        
        .container {
            display: flex;
            flex-direction: row;
        }
        
        .container {
            vertical-align: center;
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
            justify-content: space-evenly;
        }
        
        #instructions {
            display: flex;
        }
        
        #instructions div {
            margin: auto 0;
        }
    </style>
    <script>
        ids = []
        chestCount = 0
        score = 0
        lastCheck = 12
        treasureLocation = 18
        treasureLocation = getRandomInt(1, 25)
        console.log(treasureLocation);
        // bonus
        function getRandomInt(min, max) {
            min = Math.ceil(min);
            max = Math.floor(max);
            value = Math.floor(Math.random() * (max - min) + min);
            if (value == 13) {
                getRandomInt(1, 25)
            }
            return value // The maximum is exclusive and the minimum is inclusive
        }

        function fetch() {
            imgs = document.getElementsByTagName("img")
            Array.from(imgs).forEach(element => {
                ids.push(element.id)
            });
        }

        function check(position) {
            chestCount++;
            score += 2;
            lastCheck = position
            if (position == treasureLocation) {
                document.getElementById(ids[position - 1]).src = 'imgs/chest.png'
            } else {
                document.getElementById(ids[position - 1]).src = 'imgs/emptychest.png'
            }
            document.getElementById("chests").innerHTML = 'Number of chests checked is ' + chestCount

            document.getElementById("score").innerHTML = 'Score is ' + score
                // help()
        }

        function help() {
            tcol = (Math.round(treasureLocation % 5) == 0) ? 5 : Math.round(treasureLocation % 5)
            trow = treasureLocation / 5
            let row = lastCheck / 5
            let col = (Math.round(lastCheck % 5) == 0) ? 5 : Math.round(lastCheck % 5)
            if (col == tcol && row == trow) {
                document.getElementById('help').innerHTML = 'Sorry, no help available'
            } else if (row > parseInt(trow) && row <= parseInt(trow) + 1 && col != tcol) {
                if (col > tcol) {
                    document.getElementById('help').innerHTML = 'left'
                } else {
                    document.getElementById('help').innerHTML = 'right'

                }
            } else if (col == tcol && (row < parseInt(trow) || row > parseInt(trow))) {
                if (row > trow) {
                    document.getElementById('help').innerHTML = 'up'

                } else {
                    document.getElementById('help').innerHTML = 'down'

                }
            } else {
                document.getElementById('help').innerHTML = 'Sorry, no help available'
            }
        }
    </script>
</head>

<body onload="fetch()">
    <h2 style="text-align: center;">Konda Shivaradhan Treasure hunt</h2>
    <br>

    <div class="container">
        <div id="instructions">
            <div>
                <p>Click on the chests to search for treasure</p>
                <p id="chests">Number of chests checked is zero.</p>
                <p id="score">Score is unknown.</p>
                <p id="help">Help report</p>
            </div>
        </div>
        <div>
            <div class="container">
                <div class="div"><img id="img1" onclick="check(1)" src="imgs/chestC.jfif" alt=""></div>
                <div class="div"><img id="img2" onclick="check(2)" src="imgs/chestC.jfif" alt=""></div>
                <div class="div"><img id="img3" onclick="check(3)" src="imgs/chestC.jfif" alt=""></div>
                <div class="div"><img id="img4" onclick="check(4)" src="imgs/chestC.jfif" alt=""></div>
                <div class="div"><img id="img5" onclick="check(5)" src="imgs/chestC.jfif" alt=""></div>
            </div>
            <div class="container">
                <div class="div"><img id="img6" onclick="check(6)" src="imgs/chestC.jfif" alt=""></div>
                <div class="div"><img id="img7" onclick="check(7)" src="imgs/chestC.jfif" alt=""></div>
                <div class="div"><img id="img8" onclick="check(8)" src="imgs/chestC.jfif" alt=""></div>
                <div class="div"><img id="img9" onclick="check(9)" src="imgs/chestC.jfif" alt=""></div>
                <div class="div"><img id="img10" onclick="check(10)" src="imgs/chestC.jfif" alt=""></div>

            </div>
            <div class="container">
                <div class="div"><img id="img11" onclick="check(11)" src="imgs/chestC.jfif" alt=""></div>
                <div class="div"><img id="img12" onclick="check(12)" src="imgs/chestC.jfif" alt=""></div>
                <div class="div"><img id="img13" onclick="help()" src="imgs/help.png" alt=""></div>
                <div class="div"><img id="img14" onclick="check(14)" src="imgs/chestC.jfif" alt=""></div>
                <div class="div"><img id="img15" onclick="check(15)" src="imgs/chestC.jfif" alt=""></div>
            </div>
            <div class="container">
                <div class="div"><img id="img16" onclick="check(16)" src="imgs/chestC.jfif" alt=""></div>
                <div class="div"><img id="img17" onclick="check(17)" src="imgs/chestC.jfif" alt=""></div>
                <div class="div"><img id="img18" onclick="check(18)" src="imgs/chestC.jfif" alt=""></div>
                <div class="div"><img id="img19" onclick="check(19)" src="imgs/chestC.jfif" alt=""></div>
                <div class="div"><img id="img20" onclick="check(20)" src="imgs/chestC.jfif" alt=""></div>
            </div>
            <div class="container">
                <div class="div"><img id="img21" onclick="check(21)" src="imgs/chestC.jfif" alt=""></div>
                <div class="div"><img id="img22" onclick="check(22)" src="imgs/chestC.jfif" alt=""></div>
                <div class="div"><img id="img23" onclick="check(23)" src="imgs/chestC.jfif" alt=""></div>
                <div class="div"><img id="img24" onclick="check(24)" src="imgs/chestC.jfif" alt=""></div>
                <div class="div"><img id="img25" onclick="check(25)" src="imgs/chestC.jfif" alt=""></div>
            </div>
        </div>
    </div>
</body>

</html>